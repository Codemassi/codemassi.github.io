<!DOCTYPE html>
<html style="font-size: 15px;font-family: 'RobotoMono Nerd Font', Roboto, sans-serif;" lang="en"
      xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="icon" type="image/x-icon" href="favicons/linusfavicon.ico">
    <link rel="stylesheet" type="text/css" href="diss.css">
    <title>ITS DISS TIME BABY</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>


<script src="https://www.youtube.com/player_api"></script>

<main>
   
    <div id="player"></div>
    
    <div>
        <span class="circle" id="exit"></span>
        <img src="back_button.png" alt="back" id="back_button" draggable="false">
    </div>

    <img src="Key.png" id="key" style="visibility: hidden" draggable="false">
</main>


<script>
    let hasKey = 0;
    
    document.getElementById("back_button").onclick = function(){
        window.location.href="linus.html";
    }

    document.getElementById("key").onclick = function (){
        if(hasKey == 0){
            playSound("sound/key-get.mp3");
            //Add key0
            localStorage.setItem("key1", "y");
            document.getElementById("key").src = "keyCollected.png";
            hasKey = 1;
        }
    }
    
</script>


<script>
    //youtube player
    var player;
    function onYouTubePlayerAPIReady() {
        player = new YT.Player('player', {
            height: '390',
            width: '640',
            videoId: '4PnUfYhbDDM',
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
            },
            playerVars: {
              'controls': 0 
            }
        });
    }

    // autoplay video
    function onPlayerReady(event) {
        event.target.playVideo();
    }

    // when video ends
    function onPlayerStateChange(event) {
        if(event.data === 0) {
            if(hasKey == 0){
                document.getElementById("key").style.visibility = "visible";
            }
        }
    }
</script>

<script>
    //Sound effects code
    function playSound(url) {
        const audio = new Audio(url);
        audio.play();
    }
</script>

</html>

